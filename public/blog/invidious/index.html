<!DOCTYPE html>
<html lang="en">
<head>
	<title>Come Ho Installato Localmente Invidious | Piacere, Matthew</title>
	<link rel="canonical" href="https://piacerematthew.xyz">
	<link rel='alternate' type='application/rss+xml' title="Piacere, Matthew RSS" href='index.xml'>
	<link rel='stylesheet' type='text/css' href='../../css/style.css'>
		<link rel="icon" href="../../favicon.ico">
	<meta name="description" content="Piccolo articolo veloce per spiegare come installare localmente una propria istanza invidious, in modo da vedere i video dei tuoi youtuber preferiti senza essere tracciato da YouTube.
Pacchetti richiesti Invidious pu√≤ essere installato sia tramite Docker che tramite Podman, ma in questo caso vedremo la seconda opzione.
Quindi, prima di cominciare, bisogna installare Podman sul nostro computer tramite questo comando:
 sudo dnf install podman-compose pwgen Ora possiamo cominciare.
Installare Invidious In primis bisogna scaricare la Github il repository ufficiale di Invidious ed entrare dentro la directory appena creata">
	<meta name="keywords" content="üë®‚Äçüíª Echo 404">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="index, follow">
	<meta charset="utf-8">
</head>
<body>
<main>
<header><h1 id="tag_Come ho installato localmente invidious">Come ho installato localmente invidious</h1></header>
<article>

<p>Piccolo articolo veloce per spiegare come installare localmente una propria istanza invidious, in modo da vedere i video dei tuoi youtuber preferiti senza essere tracciato da YouTube.</p>
<h2 id="pacchetti-richiesti">Pacchetti richiesti</h2>
<p>Invidious pu√≤ essere installato sia tramite Docker che tramite Podman, ma in questo caso vedremo la seconda opzione.</p>
<p>Quindi, prima di cominciare, bisogna installare Podman sul nostro computer tramite questo comando:</p>
<pre tabindex="0"><code> sudo dnf install podman-compose pwgen
</code></pre><p>Ora possiamo cominciare.</p>
<h2 id="installare-invidious">Installare Invidious</h2>
<p>In primis bisogna scaricare la Github il repository ufficiale di Invidious ed entrare dentro la directory appena creata</p>
<pre tabindex="0"><code>git clone https://github.com/iv-org/invidious.git
cd invidious
</code></pre><p>Il passo successivo consiste nell&rsquo;editare il file <em>docker-compose.yml</em> con queste modifiche:</p>
<p><strong>Aggiungi l&rsquo;image di Invidious</strong>:</p>
<pre><code>image: quay.io/invidious/invidious:latest
</code></pre>
<p><strong>Cambiare la Porta</strong>:</p>
<pre><code> ports: - &quot;3000:3000&quot;
</code></pre>
<p><strong>Cambiare l&rsquo;hmac_key</strong>. √à necessario impostare un valore casuale generato per il parametro hmac_key. Su Linux √® possibile generarlo utilizzando il comando <em>pwgen 20 1</em></p>
<pre><code>.Prima
hmac_key: &quot;CHANGE_ME!!&quot;

.Dopo
hmac_key: saeNg5xufooraofeevee
</code></pre>
<p>A fine modifiche, il file docker_compose.yml deve assomigliare a questo qui sotto:</p>
<pre><code># Warning: This docker-compose file is made for development purposes.
# Using it will build an image from the locally cloned repository.
#
# If you want to use Invidious in production, see the docker-compose.yml file provided
# in the installation documentation: https://docs.invidious.io/installation/

# Warning: This docker-compose file is made for development purposes.
# Using it will build an image from the locally cloned repository.
#
# If you want to use Invidious in production, see the docker-compose.yml file provided
# in the installation documentation: https://docs.invidious.io/installation/

version: &quot;3&quot;
services:

 invidious:
 image: quay.io/invidious/invidious:latest
 build:
      context: .
     dockerfile: docker/Dockerfile
    restart: unless-stopped
    ports:
        - &quot;3000:3000&quot;
    environment:
    # Please read the following file for a comprehensive list of all available
    # configuration options and their associated syntax:
    # https://github.com/iv-org/invidious/blob/master/config/config.example.yml
    INVIDIOUS_CONFIG: |
        db:
            dbname: invidious
            user: kemal
            password: kemal
            host: invidious-db
            port: 5432
        check_tables: true
        # external_port:
        # domain:
        # https_only: false
        # statistics_enabled: false
        hmac_key: Ees6vou2IekaipeiCeib
    healthcheck:
        test: wget -nv --tries=1 --spider http://127.0.0.1:3000/api/v1/comments/jNQXAC9IVRw || exit 1
        interval: 30s
        timeout: 5s
        retries: 2
    depends_on:
     - invidious-db

    invidious-db:
        image: docker.io/library/postgres:13
        restart: unless-stopped
        volumes:
            - postgresdata:/var/lib/postgresql/data
            - ./config/sql:/config/sql
            - ./docker/init-invidious-db.sh:/docker-entrypoint-initdb.d/init-invidious-db.sh
        environment:
            POSTGRES_DB: invidious
            POSTGRES_USER: kemal
            POSTGRES_PASSWORD: kemal
        healthcheck:
            test: [&quot;CMD-SHELL&quot;, &quot;pg_isready -U $$POSTGRES_USER -d $$POSTGRES_DB&quot;]

    volumes:
        postgresdata:
</code></pre>
<!-- raw HTML omitted -->
<p><strong>Piccola nota a margine</strong>: A causa di vari problemi, Invidious deve essere riavviato spesso, almeno una volta al giorno, idealmente ogni ora.</p>
<h2 id="eseguire-invidious">Eseguire invidious</h2>
<p>Per eseguire Invidious, basta entrare dentro la directory <em>invidious</em> ed eseguire il comando <em>podman-compose up</em></p>
<pre><code> cd invidious/
 podman-compose up
</code></pre>
<p>Per ottimizzare quest&rsquo;operazione ho creato un piccolo script shell che mi permette di accendere, spegnere e aggiornare invidious</p>
<pre><code> #!/bin/bash

 clear
 # Mostra il primo menu
 echo &quot;Scegli un'opzione:&quot;
 echo &quot;1. Accendi&quot;
 echo &quot;2. Spegni&quot;
 echo &quot;3. aggiorna&quot;
 read -p &quot;Inserisci il numero corrispondente: &quot; scelta

 # Esegui l'azione in base alla scelta
 case $scelta in
     1)  cd invidious/ # Cambia la directory in &quot;invidious/&quot;
         podman-compose up # Esegui &quot;podman-compose up&quot;
         ;;
    
     2)
         cd invidious/
         podman-compose stop
         echo &quot;Invidious spento!&quot;
         ;;
     3)
         cd invidious/
         podman-compose pull
         podman-compose up -d
         podman image prune -f
         echo &quot;Invidious aggiornato!&quot;
         ;;
 esac</code></pre>



<hr />

<div id="nextprev">
<a href="/blog/pensieripianetadellescimmie/"><div id="prevart">Previous:<br>Considerazione nata dopo la visione di &#34;Il regno del pianeta delle scimmie&#34;</div></a>
</div>
<div style="clear:both" class=taglist>Related<br><a id="tag_üë®‚Äçüíª echo 404" href="https://piacerematthew.xyz/tags/echo-404">üë®‚Äçüíª Echo 404</a></div>
</article>
</main>

<footer>
	<a href="https://piacerematthew.xyz">https://piacerematthew.xyz</a><br><br><a href="../index.xml"><img src="/rss.svg" style="max-height:1.5em" alt="RSS Feed" title="Subscribe via RSS for updates."></a>
</footer>

</body>
</html>
